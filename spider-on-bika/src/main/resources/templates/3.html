<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>test</title>
    <style>
        body {
            height: 2000px;
        }

        .rTop {
            width: 25px;
            height: 100px;
            text-align: center;
            font-size: small;
            line-height: 25px;
            border: 1px solid #999;
            position: fixed;
            right: 0;
            bottom: 0;
            border-bottom-color: #333;
            border-right-color: #333;
            margin: 5px;
            cursor: pointer;
        }
    </style>
</head>
<body>
<div class="rTop">
    <div class="rTop" id="rTop">自动翻页</div>
    <div class="rTop" id="down">下一页</div>
</div>
<script>
    //滚动条在Y轴上的滚动距离

    function getScrollTop() {
        let scrollTop = 0, bodyScrollTop = 0, documentScrollTop = 0;
        if (document.body) {
            bodyScrollTop = document.body.scrollTop;
        }
        if (document.documentElement) {
            documentScrollTop = document.documentElement.scrollTop;
        }
        scrollTop = (bodyScrollTop - documentScrollTop > 0) ? bodyScrollTop : documentScrollTop;
        return scrollTop;
    }

    //文档的总高度

    function getScrollHeight() {
        let scrollHeight = 0, bodyScrollHeight = 0, documentScrollHeight = 0;
        if (document.body) {
            bodyScrollHeight = document.body.scrollHeight;
        }
        if (document.documentElement) {
            documentScrollHeight = document.documentElement.scrollHeight;
        }
        scrollHeight = (bodyScrollHeight - documentScrollHeight > 0) ? bodyScrollHeight : documentScrollHeight;
        return scrollHeight;
    }

    //浏览器视口的高度

    function getWindowHeight() {
        let windowHeight = 0;
        if (document.compatMode == "CSS1Compat") {
            windowHeight = document.documentElement.clientHeight;
        } else {
            windowHeight = document.body.clientHeight;
        }
        return windowHeight;
    }

    // window.onscroll = function(){
    //     if(getScrollTop() + getWindowHeight() == getScrollHeight()){
    //         alert("已经到最底部了！!");
    //     }
    // };
    window.onscroll = function () {
        if (document.body.scrollTop || document.documentElement.scrollTop > 0) {
            document.getElementById('rTop').style.display = "block"
        } else {
            document.getElementById('rTop').style.display = "block"
        }
    }
    document.getElementById("rTop").onclick = function () {
        // document.documentElement.scrollTop += 50;
        this.timer = setInterval(() => {
            console.log("document.documentElement.scrollTop--->" + document.documentElement.scrollTop);
            document.documentElement.scrollTop += 5;
            if (getScrollTop() + getWindowHeight() > getScrollHeight()) {
                clearInterval(this.timer)
            }
        })

    }
</script>
</body>
</html>

